<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <style>
        body{
            display:flex;
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
        }
        #sidebar{
            width: 300px;
            padding: 20px;
            background: #f3f3f3;
            height: 100vh;
        }
        #main{
            flex: 1;
            padding: 20px;
        }
        #navbar{
            width:100%;
            background: #ddd;
            padding: 10px;
        }
        .fleet-card{
            width: 30%;
            border: 1px solid #aaa;
            padding:10px;
            margin: 10px;
            display: inline-block;
            vertical-align: top;
        }
        .fleet-card img{
            width: 100%;
        }
    </style>
    
</head>
<body>
    
        <!--SIDEBAR-->
        <div id="sidebar">
            <h3>Add Fleet</h3>
            <input type="text" id="reg" placeholder="Reg No">
            <br>
            <br>
            <select id="category">
            <option value="">Select Category</option>
            <option value="Auto">Auto</option>
            <option value="Car">Car</option>
            <option value="Truck">Truck</option>
            <option value="Bus">Bus</option>>
            </select>
            <br>
            <br>
            <input type="text" id="driver" placeholder="Driver Name">
            <br>
            <br>
            <select id="available"> 
                <option value="Available">Available</option>
                <option value="Unavailable">Unavailable</option>
                </select>
            <button id="addBtn">Add Fleet</button>
        </div>
        
    
          
        <!--Main-->
        <div id="main">
            <!--Navbar-->
    <div id="navbar">
      
            <select id="filterCategory"> 
                <option value="All">All Categories</option>
                <option value="Auto">Auto</option>
                <option value="Car">Car</option>
                <option value="Truck">Truck</option>
                <option value="Bus">Bus</option>
            </select>
            <!--filters-->
            <select id="filterAvailability">
                <option value="All"> All Availability</option>
                <option value="Available">Available</option>
                <option value="Unavailable">Unavailable</option>
            </select>
            <button id="clearFilter">Clear Filter</button>
        </div>
 
    <div id="cardcontainer">

        </div>
        <!---->

    </div>
    <script>
        let fleetData=[];
        const imgURL="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png";
        document.getElementById("addbtn").addEventListener("click",function(){
            let reg=document.getElementById("reg").value.trim();
            let cat=document.getElementById("category").value();
            let driver=document.getElementById("reg").value.trim();
            let avail=document.getElementById("reg").value();
            if(!reg || !cat||!driver)
        {
            alert("All fields are required");
            return;
        }
        let fleet={
            reg,
            cat,
            driver,
            avail

        };
        fleetData.push(fleet);
        //clear form
        document.getElementById("reg").value="";
        document.getElementById("category").value="";
        document.getElementById("driver").value="";
        document.getElementById("avail").value="Available";
        applyFilters();

        

        });
        function renderCards(data){
            const container=document.getElementById("cardContainer");
            conatiner.innerHTML="";
            data.forEach((item,index)=>{
                const card=document.createElement("div");
                card.className="Fleet-card";
                conatainer.innerHTML=`<img src="{https://coding-platform.s3.amazonaws.com/dev/ltickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png}">
                <h3>${item.reg}</h3>
                <p>Category:$
                    {item.cat}</p>
                    <p>Driver:${item.driver}</p>
                    <p>Status:<b>${item.avail}</b></p>
                    <button onclick="updateDriver(${index})">Update Driver</button>

                `;
                container.appendChild(card);
            });
        }
            function updateDriver(i){
            let newName=prompt("Enter new driver name:");
            if(!newName || newName.trim()=== "")
            {
                alert("Driver name cannot be empty");
                return;
            }
            fleetDat[i].driver=newName;
            applyFilters();

        }
        function changeAvail(i){
            fleetData[i].avail=fleetDat[i].avail==="Available"?"UNAVAILABLE""AVAIL";
        }
    </script>
</body>
</html>